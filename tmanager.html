<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>tManager</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link rel="stylesheet" href="bootstrap.min.css">
	<link rel="stylesheet" href="font-awesome.min.css">
	<link rel="stylesheet" href="tmanager.css">

	<!--[if lt IE 9]>
	   <script src="gn_html5shim.js"></script>
    <![endif]-->

</head>

<body>

	<!-- Side Bar -->
	<div class="row-offcanvas row-offcanvas-left">

		<div id="sidebar" class="sidebar-offcanvas">
			<img src="tmanager.png"/>
			<div class="col-md-12">
				<form id="sidebar-form">

					<ul class="nav">
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-heart fa-1x"></i></span><select id="presetItems" class="form-control"><option value="" disabled selected>Preset</option></select>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-globe fa-1x"></i></span><input type="text" class="form-control" id="space" placeholder="Space name"/>
							</div>
						</li>
<!-- 						<li> -->
<!-- 							<div class="input-group"> -->
<!-- 								<span class="input-group-addon"><i class="fa fa-briefcase fa-1x"></i></span><input type="text" class="form-control" id="bag" placeholder="Bag"/> -->
<!-- 							</div> -->
<!-- 						</li> -->
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-tag fa-1x"></i></span><input type="text" class="form-control" id="tag" placeholder="Tag"/>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-dot-circle-o fa-1x"></i></span><input type="text" class="form-control" id="title" placeholder="Title"/>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-user fa-1x"></i></span><input type="text" class="form-control" id="author" placeholder="Author"/>
							</div>
						</li>
					</ul>

					<div class="pull-right">
						<button class="btn btn-default btn-primary" data-toggle="tooltip" data-placement="bottom" title="Save as a preset" id="save-preset" type="button">
							<i class="fa fa-plus-square"></i>
						</button>
	
						<button class="btn btn-default btn-primary" data-toggle="tooltip" data-placement="bottom" title="Search" id="advanced-search" type="submit">
							<i class="fa fa-search"></i>
						</button>
					</div>
				</form>
			</div>

			<!--<div class="text-center">
            <p><a href="http://www.tiddlyspace.com" target="_ext">TiddlySpace.com</a>
                <br><a href="http://www.osmosoft.com" target="_ext">Developed by Osmosoft</a>
            </p>
        </div>
        -->
		</div>
		<!-- /Side Bar -->



		<!--main-->
		<div id="main">

			<div class="col-md-12 sidebar-toggle">
				<p>
					<button type="button" class="btn btn-primary btn-xl"
						data-toggle="offcanvas" data-toggle="tooltip"
						data-placement="bottom" title="Show/Hide Search Panel">
						<i class="fa fa-chevron-right"></i>
					</button>
				</p>
			</div>

			<div id="sidebar-right" class="sidebar-right-toggle">
				<button type="button" class="btn btn-primary btn-xl"
					data-toggle="expand" data-toggle="tooltip" data-placement="bottom"
					title="Expand/Collapse All">
					<i class="fa fa-expand"></i>
				</button>
			</div>

			<div class="container-full">
				<div id="cards"></div>
				<!--/row-->

				<br>
				<div class="clearfix"></div>
			</div>

		</div>

		<!--/main-->

	</div>
	<!--row-offcanvas row-offcanvas-left-->

	<!--<div id="sidebar-right" class="sidebar-right-toggle">
        <button type="button" class="btn btn-primary btn-xl" data-toggle="expand"><i class="fa fa-expand"></i>
        </button>
    </div>
    -->
	<!--tiddler modal-->
	<div id="tiddlerModal" class="modal fade" tabindex="-1" role="dialog"
		aria-hidden="true"></div>


	<!--Delete Confirm Modal Dialog-->
	<div class="modal fade" id="deleteConfirmModal" tabindex="-1"
		role="dialog" aria-labelledby="deleteConfirmModal" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-title" id="myModalLabel">Delete Tiddler</h2>
				</div>
				<div class="modal-body">
					Are you sure you want to delete this Tiddler?
					<div class="tiddlerName"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					<button id="btnDeleteTiddler" type="button" class="btn btn-primary"
						data-dismiss="modal">Delete</button>
				</div>
			</div>
		</div>
	</div>

	<!--Save Preset Modal Dialog-->
	<div class="modal fade" id="savePresetModal" tabindex="-1"
		role="dialog" aria-labelledby="saveConfirmModal" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-title" id="myModalLabel">Save Preset</h2>
				</div>
				<div class="modal-body">
					<ul class="nav">
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-heart fa-1x"></i></span><input type="text" class="form-control" id="spPresetName" placeholder="Preset name"/>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-globe fa-1x"></i></span><input type="text" class="form-control" id="spSpace" placeholder="Space name"/>
							</div>
						</li>
<!-- 						<li> -->
<!-- 							<div class="input-group"> -->
<!-- 								<span class="input-group-addon"><i class="fa fa-briefcase fa-1x"></i></span><input type="text" class="form-control" id="spBag" placeholder="Bag"/> -->
<!-- 							</div> -->
<!-- 						</li> -->
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-tag fa-1x"></i></span><input type="text" class="form-control" id="spTag" placeholder="Tag"/>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-dot-circle-o fa-1x"></i></span><input type="text" class="form-control" id="spTitle" placeholder="Title"/>
							</div>
						</li>
						<li>
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-user fa-1x"></i></span><input type="text" class="form-control" id="spAuthor" placeholder="Author"/>
							</div>
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					<button id="btnSavePreset" type="button" class="btn btn-primary"
						data-dismiss="modal">Save</button>
				</div>
			</div>
		</div>
	</div>


	<!-- handlerbar template references -->

	<!-- the card template -->
	<script id="cardTemplate" type="text/x-handlebars-template">
        <div id="card_{{fields._hash}}" class="card col-md-4">            
        	<div class="panel panel-default">
                <div class="panel-heading">                	
                	<div class="pull-right">
                		<a href="#" onClick="tmanager.showModalCarousel('{{fields._hash}}');"  role="button" data-toggle="modal" data-toggle="tooltip" data-placement="bottom" title="Open"><i class="fa fa-eye fa-2x"></i></a>
                		<a href="#" onClick="tmanager.getCardBody('{{fields._hash}}');" data-toggle="expand-panel" data-toggle="tooltip" data-placement="bottom" title="Expand/Collapse"><i class="expand-toggle fa fa-chevron-down fa-2x"></i></a>
                	</div>
                	<h4>{{title}}</h4>
                </div>
                <div class="panel-body">
                    <div class="clearfix"></div>
                    <div id="tiddler-content-{{fields._hash}}"></div>
                </div>
                <div class="nav panel-footer">
                    <span class="card-tags">
                    	<div style="margin:0px auto; width:100%">
                    		<div style="float:left; margin:0; width:15em%;">
                    			<i class="fa fa-tag fa-2x"></i>&nbsp
                    		</div>
                    		<div style="float:left; margin:0; width:80%">                                        			
                    				{{#each tags}}
                        				<span class="label label-primary tags">{{this}}</span>
                        			{{/each}}
                    		</div>
                    	</div>                    	
                    </span>                    
                </div>
            </div>
        </div>
    </script>

	<!-- the tiddler modal template -->
	<script id="tiddlerModalTemplate" type="text/x-handlebars-template">
        <div id="modalCarousel" class="carousel slide" data-ride="carousel" data-interval="false">

            <div class="carousel-inner">
            	
            	<!-- slide 1 -->
                <div class="item active">        			
			        <div class="modal-dialog">
			            <div class="modal-content">
			                <div class="modal-header">
			                    <span class="pull-right">
									{{#contains slide1.permissions "write"}}
			                    		<a href="#" onClick="tmanager.editTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Edit"><i class="fa fa-edit fa-2x"></i></a>
			                    		<a href="#" onClick="tmanager.saveTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Save"><i class="fa fa-check-square-o fa-2x"></i></a>
									{{/contains}}
			                    	{{#contains slide1.permissions "delete"}}
										<a href="#" onClick="tmanager.confirmDeleteTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Delete"><i class="fa fa-trash-o fa-2x"></i></a>
									{{/contains}}
			                    	<a href="#" onClick="" role="button" data-dismiss="modal" data-toggle="tooltip" data-placement="bottom" title="Close"><i class="fa fa-times fa-2x"></i></a>				                    	
			                    </span>
			                    <h2 class="text-center" id="tiddlerModalTitle">{{slide1.title}}</h2>
			                </div>
			                <div class="modal-body">
			                    <div class="col-md-12">                        
			                        {{#ifCond slide1.type '==' "image/svg+xml"}}
			                    		{{{slide1.text}}}
			                    	{{else}}
			                    		{{#ifCond slide1.type '==' "image/png"}}
				                    		<img src="{{slide1.uri}}"/>
			                    		{{else}}
											{{#ifCond slide1.type '==' "image/jpeg"}}
					                    		<img src="{{slide1.uri}}"/>
				                    		{{else}}
				                    			{{#if slide1.render}}
				                    	  			{{{slide1.render}}}
			                    				{{else}}
				                      				<pre>{{slide1.text}}</pre>
			                    				{{/if}}
											{{/ifCond}}
				                    	{{/ifCond}}	
			                    	{{/ifCond}}	
			                    </div>
			                </div>
			                <div class="modal-footer">
			                    <span class="card-tags pull-left" style="margin:0px auto; width:100%; text-align:left">
			                    		<div style="float:left; margin:0; width:15em%;">
			                    			<i class="fa fa-tag fa-2x"></i>&nbsp
			                    		</div>
			                    		<div style="float:left; margin:0; width:80%;">                                        			
			                    				{{#each slide1.tags}}
			                        				<span class="label label-primary tags">{{this}}</span>
			                        			{{/each}}
			                    		</div>                    	
			                    	<button class="btn pull-right" data-dismiss="modal" aria-hidden="true">OK</button>
			                    </span>			                    
			                </div>
			            </div>
	        		</div>
	        	</div>
	        	
	        	
            	<!-- slide 2 -->
                <div class="item">  
			        <div class="modal-dialog">
			            <div class="modal-content">
			                <div class="modal-header">
			                   <span class="pull-right">
									{{#contains slide2.permissions "write"}}
			                    		<a href="#" onClick="tmanager.editTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Edit"><i class="fa fa-edit fa-2x"></i></a>
			                    		<a href="#" onClick="tmanager.saveTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Save"><i class="fa fa-check-square-o fa-2x"></i></a>
									{{/contains}}
			                    	{{#contains slide2.permissions "delete"}}
										<a href="#" onClick="tmanager.confirmDeleteTiddler();" role="button" data-toggle="tooltip" data-placement="bottom" title="Delete"><i class="fa fa-trash-o fa-2x"></i></a>
									{{/contains}}			                    	<a href="#" onClick="" role="button" data-dismiss="modal" data-toggle="tooltip" data-placement="bottom" title="Close"><i class="fa fa-times fa-2x"></i></a>				                    	
			                    </span>
			                    <h2 class="text-center" id="tiddlerModalTitle">{{slide2.title}}</h2>
			                </div>
			                <div class="modal-body">
			                    <div class="col-md-12">                        
			                        {{#ifCond slide2.type '==' "image/svg+xml"}}
			                    		{{{slide2.text}}}
			                    	{{else}}
			                    		{{#ifCond slide2.type '==' "image/png"}}
				                    		<img src="{{slide2.uri}}"/>
			                    		{{else}}
											{{#ifCond slide2.type '==' "image/jpeg"}}
					                    		<img src="{{slide2.uri}}"/>
				                    		{{else}}
				                    			{{#if slide2.render}}
				                    	  			{{{slide2.render}}}
			                    				{{else}}
				                      				<pre>{{slide2.text}}</pre>
			                    				{{/if}}
											{{/ifCond}}
				                    	{{/ifCond}}	
			                    	{{/ifCond}}	
			                    </div>
			                </div>
			                <div class="modal-footer">
			                    <span class="card-tags pull-left" style="margin:0px auto; width:100%; text-align:left">
			                    		<div style="float:left; margin:0; width:15em%;">
                    						<i class="fa fa-tag fa-2x"></i>&nbsp
			                    		</div>
			                    		<div style="float:left; margin:0; width:80%;">                                        			
			                    				{{#each slide2.tags}}
			                        				<span class="label label-primary tags">{{this}}</span>
			                        			{{/each}}
			                    		</div>
			                    	<button class="btn pull-right" data-dismiss="modal" aria-hidden="true">OK</button> 
			                    </span>                 			                    
			                </div>
			            </div>
	        		</div>
	        	</div>
	        	
            </div> <!-- carousel-inner -->
	
			<a class="carousel-control left" href="#modalCarousel"><i class="fa fa-chevron-left fa-2x"></i></a>
           	<a class="carousel-control right" href="#modalCarousel"><i class="fa fa-chevron-right fa-2x"></i></a>

		</div> <!-- carousel ->
    </script>


	<!-- script references -->
	<script type="text/javascript" src="/bags/common/tiddlers/jquery.js"></script>
	<script type="text/javascript" src="/bags/tiddlyspace/tiddlers/chrjs"></script>
	<script type="text/javascript" src="/bags/common/tiddlers/chrjs-store.js"></script>
	<script type="text/javascript" src="bootstrap.min.js"></script>
	<script type="text/javascript" src="handlebars.min-v1.3.0.js"></script>
	<script type="text/javascript" src="tmanager.js"></script>

</body>

</html>